
--完整备份--
backup database hjx_t to disk='d:\hjx_t.bak'

insert into dbo.t1 values (4,'sahw')
--日志备份--
backup log hjx_t to disk='d:\hjx_t_log.bak'


还原
--删除数据库--
DROP database hjx_t
--查看逻辑文件名--
RESTORE FILELISTONLY FROM DISK = N'd:\hjx_t.bak'

use master
go
--还原数据库--

restore database hjx_t from disk='d:\hjx_t.bak' with replace,norecovery

restore log hjx_t from disk='d:\hjx_t_log.bak' with replace

--不删除库还原为本实例其他库名，需要修改逻辑名对应的物理文件--
restore database hjx from disk='d:\hjx_t.bak' with replace,norecovery,
MOVE 'hjx' TO 'D:\SQLServer\Data\MSSQL11.MSSQLSERVER\MSSQL\DATA\hjx.mdf',
MOVE 'hjx_log' TO 'D:\SQLServer\Data\MSSQL11.MSSQLSERVER\MSSQL\DATA\hjx_log.ldf'

restore log hjx_t from disk='d:\hjx_t_log.bak' with replace,
MOVE 'hjx' TO 'D:\SQLServer\Data\MSSQL11.MSSQLSERVER\MSSQL\DATA\hjx.mdf',
MOVE 'hjx_log' TO 'D:\SQLServer\Data\MSSQL11.MSSQLSERVER\MSSQL\DATA\hjx_log.ldf'
